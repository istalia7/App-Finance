{% extends 'base.html.twig' %} {% block title %}Page dépenses{% endblock %} {%
block body %}
<div class="container h-dvh w-9/12 mx-auto">
  {% set lastMonth = null %} {% for depense in depenses %} {% set currentMonth =
  depense.date|date("F", "Europe/Paris") %} {% if currentMonth != lastMonth %}
  <table class="border border-[#1B1725] bg-[#A499B3] mt-16 w-full">
    <thead class="border-b border-b-[#534B62]">
      <th colspan="4" class="text-black h-12">{{ currentMonth }}</th>
    </thead>
    <tr class="w-full border-b-black border-b-[1px]">
      <th class="border-r border-r-[#534B62] px-4">Date</th>
      <th class="border-r border-r-[#534B62] px-4">Type de dépense</th>
      <th class="border-r border-r-[#534B62] px-4">Motif</th>
      <th class="px-8">Montant</th>
    </tr>
    {% set lastMonth = currentMonth %}
    <tr>
      <td colspan="3" class="text-left pl-2">Montant total :</td>
      <td colspan="2">{{ depense.montant }}€</td>
    </tr>
    {% endif %}
    <tbody class="text-[#534B62]">
      {% if depense.necessite.necessaire == true %}
      <tr class="bg-orange-500">
        <td>{{ depense.date|date("j F, Y", "Europe/Paris") }}</td>
        <td>{{ depense.necessite.description }}</td>
        <td>{{ depense.motif }}</td>
        <td>{{ depense.montant }}€</td>
      </tr>
      {% endif %} {% if depense.necessite.necessaire == false %}
      <tr>
        <td>{{ depense.date|date("j F, Y", "Europe/Paris") }}</td>
        <td>{{ depense.necessite.description }}</td>
        <td>{{ depense.motif }}</td>
        <td>{{ depense.montant }}€</td>
      </tr>
      {% endif %} {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
